<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>后台主页</title>
		<script src="./jquery.js"></script>
	</head>

	<body>
		<h1>首页</h1>

		<button id="btnLogout">退出登录</button>

		<script>
			$(function () {
				$.ajax({
					type: 'GET',
					url: '/api/username',
					success: function (res) {
						if (res.status === 0) {
							alert('欢迎您：' + res.username);
						} else {
							alert('您尚未登录，请登录后再执行此操作！');
							location.href = './login.html';
						}
					},
				});
				// 点击按钮退出登录
				$('#btnLogout').on('click', function () {
					$.ajax({
						type: 'POST',
						url: '/api/logout',
						success: function (res) {
							if (res.status === 0) {
								// 如果 status 为 0，则表示退出成功，重新跳转到登录页面
								location.href = './login.html';
							}
						},
					});
				});
			});
		</script>
	</body>
</html>
